<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Exemplos: CNPJ Stella-Faces</title>
  <meta name="author" content="Caires Vinicius">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>
<h1>Validando CNPJ:</h1>

<h2>JSF e Facelets</h2>

<h3>Criando a página jsp.</h3>

<p>Iremos criar uma p&aacute;gina .jsp e atribuir as taglibs do JSF
  (Core e HTML) e dentro do body as seguintes linhas serão atribuidas.</p>

<textarea class="html:nogutter:nocontrols" name="code"
          readonly="readonly">
  <f:view>
    <h:form id="formulario">
      <h:panelGrid columns="3">
        <h:outputLabel value="CNPJ:"/>
        <h:inputText id="CNPJ">
          <f:validator validatorId="StellaCNPJValidator"/>
        </h:inputText>
        <h:message for="CNPJ"/>
      </h:panelGrid>

      <h:commandButton value="Enviar"/>
      <h:messages/>
    </h:form>
  </f:view>
</textarea>

<p>Abra a página para visualizar o resultado.</p>


<p>Entre com diversos CNPJs para ver o comportamento da validação.</p>

<h2>Possibilidades:</h2>

<h3>Custom Tags e Facelets</h3>


<p>Vimos no exemplo anterior um dos métodos de criação de um
  validador, veremos dois outros meios de se fazer essa validação. Os
  seguintes métodos são os mais aconselhaveis.</p>

<h3>Implemetando e utilizando as Custom Tags do Caelum Stella-Faces</h3>

<p>Crie uma página .jsp, atribua as taglibs do JSF e do Stella-Faces
  (http://stella.caelum.com.br/faces).</p>

<p>Dentro do body insira o seguinte código.</p>

<textarea class="html:nogutter:nocontrols" name="code"
          readonly="readonly">
  <f:view>
    <h:form id="formulario">

      <h:panelGrid>
        <h:outputLabel value="CNPJ sem formatacao:" for="CNPJ"/>
        <h:inputText id="CNPJ" value="cnpj">
          <stella:validateCNPJ/>
        </h:inputText>
        <h:message for="CNPJ"/>

        <h:outputLabel value="CNPJ com formatacao:" for="CNPJFormatado"/>
        <h:inputText id="CNPJFormatado" value="cnpjFormatado">
          <stella:validateCNPJ formatted="true"/>
        </h:inputText>
        <h:message for="CNPJFormatado"/>
      </h:panelGrid>

      <h:commandButton value="Enviar"/>
      <h:messages/>
    </h:form>
  </f:view>
</textarea>

<p>Teste a página para ver o resultado.</p>

<h3>Validando com Facelets</h3>


<p>Para utilizar o Facelets não esqueça de configurar o web.xml e o
  faces-config.xml apropriadamente.</p>


<p>Depois de configurado, crie uma página com a extensão .xhtml e
  atribua a ela as seguintes linhas:</p>

<h4>validadorDeCNPJComFacelets.xhtml</h4>
<textarea class="html:nogutter:nocontrols" name="code"
          readonly="readonly">
  <?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

  <html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:stella="http://stella.caelum.com.br/faces">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Validando CNPJ usando o Componente do Stella Faces</title>
  </head>
  &lt;body>
  <h1>Validando CNPJ usando o Componente do Stella Faces</h1>

  <h2>Vers&atilde;o com Facelets</h2>
  <h:form>
    <h:panelGrid>
      <h:outputLabel for="CNPJ" value="CNPJ sem formatacao:"/>
      <h:inputText id="CNPJ" value="cnpj">
        <stella:validateCNPJ/>
      </h:inputText>
      <h:message for="CNPJ"/>

      <h:outputLabel for="CNPJFormatado" value="CNPJ com formatacao:"/>
      <h:inputText id="CNPJFormatado" value="cnpjFormatado">
        <stella:validateCNPJ formatted="true"/>
      </h:inputText>
      <h:message for="CNPJFormatado"/>
    </h:panelGrid>

    <h:commandButton value="Enviar"/>
    <h:messages/>
  </h:form>
  &lt;/body>
  </html>
</textarea>

<p>Abra a página e veja o resultado.Entre com números variados de
  CNPJ para ver as possíveis mensagens de erros.</p>
</body>
</html>
