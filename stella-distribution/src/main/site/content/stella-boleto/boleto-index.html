<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Sobre</title>
  <meta name="author" content="Cauê Haucke Porta Guerra">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>
<h2>O que é?</h2>
<p>É um dos modulos do Caelum Stella, que tem como
objetivo facilitar a criação de boletos bancários de maneira simples e
usando fluent-interfaces. 
</p>

<h2>Dependências</h2>
<ul>
	<li>stella-boleto.jar</li>
	<li>itext.jar</li>
</ul>

<h2>Domínio</h2>
<ul>
	<li>Aceite: diz se o banco deve aceitar o boleto após a data de vencimento. Padrão: 'N'</li>
	<li>Espécie de Documnto: identificador do tipo de boleto. Padrão: "DV"</li>
	<li>Número do Documento: código informado pelo banco para identificação do cliente</li>
	<li>Carteira: código informado pelo banco pra identificação do tipo do boleto</li>
	<li>Número do Convênio: código que identifica um emissor junto ao seu banco para associar seus boletos. 
Fornecido pelo banco</li>
	<li>Nosso Número: código que o cedente escolhe para manter controle sobre seus boletos. Esse valor serve
para o cedente identificar quais boletos foram pagos ou não. Recomenda-se o uso de números
sequenciais, na geração de diversos boletos, para facilitar a identificação dos boletos pagos</li>
	<li>Cedente: nome do emissor</li>
	<li>Emissor: pessoa/empresa que gera o boleto</li>
	<li>Sacado: pessoa/empresa que deve pagar o boleto</li>
</ul>

<h2>Gerando Boletos</h2>
<textarea rows="10" cols="65" class="java" name="code" readonly="readonly">
import br.com.caelum.stella.boleto.*;
      
private BoletoPadrao boleto;
      
public Boleto GeraBoleto() {
	DatasPadrao datas = DatasPadrao.newDatas()
      					    	   .comDocumento(new GregorianCalendar(5, 1, 2008))
      					    	   .comProcessamento(new GregorianCalendar(5, 1, 2008))
      					    	   .comVencimento(new GregorianCalendar(5, 2, 2008));

	EmissorPadrao emissor = EmissorPadrao.newEmissor()
										 .comCedente("Fulano de Tal")
										 .comAgencia("2345")
										 .comDvAgencia("6")
										 .comContaCorrente("12345")
										 .comNumConvenio("1234567")
										 .comDvContaCorrete("1")
										 .comCarteira("22")
										 .comNossoNumero("0009050987");

	SacadoPadrao sacado = SacadoPadrao.newSacado()
									  .comNome("Fulano da Silva")
									  .comCpf("111.222.333-12")
									  .comEndereco("Av dos testes, 111 apto 333")
									  .comBairro("Bairro Teste")
									  .comCep("01234-111")
									  .comCidade("São Paulo")
									  .comUf("SP");

	String[] descricoes = { "descricao 1", "descricao 2", "descricao 3", "descricao 4", "descricao 5" };

	String[] locaisDePagamento = { "local 1", "local 2" };

	String[] instrucoes = { "instrucao 1", "instrucao 2", "instrucao 3", "instrucao 4", "instrucao 5" };
		
	Banco banco = new BancoDoBrasil();

	this.boleto = BoletoPadrao.newBoleto()
							  .comBanco(banco)
							  .comDatas(datas)
							  .comDescricoes(descricoes)
							  .comEmissor(emissor)
							  .comSacado(sacado)
							  .comValorBoleto("200.00")
							  .comNoDocumento("1234")
							  .comInstrucoes(instrucoes)
							  .comLocaisDePagamento(locaisDePagamento);
			
	return this.boleto;
}
		
public void GeraPDF(Boleto boleto) {
		
	PDFBoletoWriter writer = new PDFBoletoWriter();
		
	BoletoTransformer transformer = new BoletoTransformer(writer);
		
	InputStream is = transformer.transform(this.boleto);
		
	File arquivo = new File("arquivo.pdf");
	FileOutputStream fos = new FileOutputStream(arquivo);

	byte[] b = new byte[is.available()];
	is.read(b);

	fos.write(b);
	fos.close();

}
		
public void GeraPNG(Boleto boleto) throws NumberFormatException, IOException, DocumentException, ParseException {
	PNGBoletoWriter writer = new PNGBoletoWriter();
		
	BoletoTransformer transformer = new BoletoTransformer(writer);
		
	InputStream is = transformer.transform(boleto);
		
	File arquivo = new File("arquivo.png");
	FileOutputStream fos = new FileOutputStream(arquivo);

	byte[] b = new byte[is.available()];
	is.read(b);

	fos.write(b);
	fos.close();
}
</textarea>

</body>
</html>